/* ===================================
   THEME STYLES
   Dark Theme (default) & Semi-Dark Theme
   =================================== */

/* Dark Theme is already set as default in main.css */

/* ===== SEMI-DARK THEME ===== */
body.theme-semi-dark {
    --bg-primary: #18181b;
    --bg-secondary: #27272a;
    --bg-tertiary: #3f3f46;
    --bg-elevated: #52525b;
    --bg-card: #27272a;
    
    --text-primary: #fafafa;
    --text-secondary: #d4d4d8;
    --text-tertiary: #a1a1aa;
}

/* ===== READING MODES ===== */
body[data-reading-mode="compact"] {
    --line-height-normal: 1.4;
    --line-height-relaxed: 1.6;
    --spacing-md: 0.875rem;
    --spacing-lg: 1.25rem;
    --spacing-xl: 1.75rem;
}

body[data-reading-mode="comfortable"] {
    /* Default values - already set */
}

body[data-reading-mode="relaxed"] {
    --line-height-normal: 1.7;
    --line-height-relaxed: 2;
    --spacing-md: 1.25rem;
    --spacing-lg: 1.75rem;
    --spacing-xl: 2.5rem;
}

/* ===== FONT FAMILIES ===== */
body[data-font-family="inter"] {
    --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

body[data-font-family="inter"] h1,
body[data-font-family="inter"] h2,
body[data-font-family="inter"] .hero-title,
body[data-font-family="inter"] .section-title,
body[data-font-family="inter"] .chapter-title {
    font-family: var(--font-sans);
}

body[data-font-family="playfair"] {
    --font-serif: 'Playfair Display', Georgia, serif;
}

body[data-font-family="playfair"] .content-text,
body[data-font-family="playfair"] p {
    font-family: var(--font-serif);
}

body[data-font-family="mono"] {
    --font-mono: 'Roboto Mono', 'Courier New', monospace;
}

body[data-font-family="mono"] .content-text,
body[data-font-family="mono"] p {
    font-family: var(--font-mono);
}

/* ===== FONT SIZES ===== */
body[data-font-size="small"] {
    --font-size-xs: 0.6875rem;
    --font-size-sm: 0.8125rem;
    --font-size-base: 0.9375rem;
    --font-size-lg: 1.0625rem;
    --font-size-xl: 1.1875rem;
    --font-size-2xl: 1.375rem;
    --font-size-3xl: 1.75rem;
    --font-size-4xl: 2.125rem;
    --font-size-5xl: 2.75rem;
}

body[data-font-size="medium"] {
    /* Default values - already set */
}

body[data-font-size="large"] {
    --font-size-xs: 0.8125rem;
    --font-size-sm: 0.9375rem;
    --font-size-base: 1.0625rem;
    --font-size-lg: 1.25rem;
    --font-size-xl: 1.375rem;
    --font-size-2xl: 1.625rem;
    --font-size-3xl: 2rem;
    --font-size-4xl: 2.5rem;
    --font-size-5xl: 3.25rem;
}

/* ===== CONTENT WIDTH ===== */
body[data-content-width="narrow"] {
    --content-narrow: 540px;
    --content-medium: 640px;
    --content-wide: 840px;
}

body[data-content-width="medium"] {
    /* Default values - already set */
}

body[data-content-width="wide"] {
    --content-narrow: 740px;
    --content-medium: 920px;
    --content-wide: 1180px;
}

/* ===== THEME TRANSITIONS ===== */
body {
    transition: background-color 0.3s ease, color 0.3s ease;
}

body * {
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Exclude animations and transforms from theme transition */
.animate-fade-in,
.animate-slide-up,
.animate-slide-down,
.animate-slide-left,
.animate-slide-right,
.animate-scale-in,
.animate-zoom-in {
    transition: none !important;
}

/* ===== PRINT STYLES ===== */
@media print {
    body {
        background: white;
        color: black;
    }
    
    .main-nav,
    .sidebar,
    .fab-container,
    .chapter-actions,
    .version-selector,
    .chapter-navigation,
    .chapter-feedback,
    .action-check-btn,
    .scroll-indicator {
        display: none !important;
    }
    
    .main-content {
        margin-top: 0;
    }
    
    .section {
        page-break-inside: avoid;
    }
    
    .chapter-header,
    .content-block {
        page-break-inside: avoid;
    }
}

/* ===== DARK MODE IMAGES ===== */
@media (prefers-color-scheme: dark) {
    img {
        opacity: 0.9;
    }
    
    img:hover {
        opacity: 1;
    }
}

/* ===== HIGH CONTRAST MODE ===== */
@media (prefers-contrast: high) {
    :root {
        --border-subtle: 1px solid rgba(255, 255, 255, 0.2);
        --border-medium: 1px solid rgba(255, 255, 255, 0.3);
        --border-strong: 1px solid rgba(255, 255, 255, 0.5);
    }
}

/* ===== REDUCED MOTION ===== */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* ===== FOCUS VISIBLE ===== */
:focus-visible {
    outline: 2px solid var(--accent-primary);
    outline-offset: 2px;
}

button:focus-visible,
a:focus-visible {
    outline: 2px solid var(--accent-primary);
    outline-offset: 2px;
}

/* ===== SELECTION HIGHLIGHTING ===== */
mark {
    background: rgba(59, 130, 246, 0.3);
    color: var(--text-primary);
    padding: 0.1em 0.2em;
    border-radius: 2px;
}
